\newpage
\section{Measure Spaces}
\subsection{\texorpdfstring{\(\sigma\)}{sigma}-algebra}
\begin{definition}
    A family \(\mathcal{M} \subseteq \mathcal{P}(X)\) is called a \textbf{\(\mathbf{\sigma}\)-algebra} if 
    \begin{enumerate}
        \item \(X \in \mathcal{M}\)
        \item \(E \in \mathcal{M} \Rightarrow E^C = X\setminus E \in \mathcal{M}\)
        \item If \(E = \bigcup_{n \in \mathbb{N}}E_n\) and \(E_n \in \mathcal{M} \; \forall \, n\), then \(E \in \mathcal{M}\)
    \end{enumerate}
\end{definition}
\subsection{Measurable space and sets}
If \(\mathcal{M}\) is a \(\sigalg\), \((X, \mathcal{M})\) is called \textbf{measurable space} and the sets in \(\mathcal{M}\) are called \textbf{measurable}.  
Ex: \begin{itemize}
    \item \((X, \mathcal{P}(X))\) is a measurable space
    \item Let \(X\) be a set, then \(\left\lbrace \emptyset, X \right\rbrace\) is a \(\sigalg\)
\end{itemize}
\begin{remark}
    \(\sigma\) is often used to denote the closure with respect to countably many operators. If we replace the countable unions with finite unions in the definition of \(\sigalg\), we obtain an \textbf{algebra}.
\end{remark}
Some \textbf{basic properties} of a measurable space \((X, \mathcal{M})\):
\begin{enumerate}
    \item \(\emptyset \in \mathcal{M}\): \(\emptyset = X^C\) and \(X \in \mathcal{M}\)
    \item \(\mathcal{M}\) is an algebra, and \(E_1, \ldots, E_n \in \mathcal{M}\)
    \[
        E_1 \cup \ldots \cup E_n = E_1 \cup \ldots \cup E_n \cup \underbrace{\emptyset}_{\in \mathcal{M}} \cup \emptyset \ldots \in \mathcal{M} 
    \]
    \item \(E_n \in \mathcal{M}\), \(\bigcap_{n \in \mathbb{N}} E_n \in \mathcal{M}\)
    \[
        \bigcap_{n \in \mathbb{N}} E_n = \biggl(\underbrace{\bigcup_{n \in \mathbb{N}} \underbrace{E_n^C}_{\in \mathcal{M}}}_{\in \mathcal{M}}\biggr)^C \qquad (\mathcal{M} \mbox{ is also closed under finite intersection})
    \]
    \end{enumerate}
\begin{itemize}
    \item \(E, F \in \mathcal{M} \Rightarrow E \setminus F \in \mathcal{M} = E \setminus F = E \cap F^C \in \mathcal{M}\)
    \item If \(\Omega \subset X\), then the \textbf{restriction} of \(\mathcal{M}\) to \(\Omega\), written as \[\mathcal{M}\vert_{\Omega} := \left\lbrace F \subseteq \Omega: F = E \cap \Omega, \mbox{ with } E \in \mathcal{M} \right\rbrace\] is a \(\sigalg\) on \(\Omega\)
\end{itemize}
\subsection{\texorpdfstring{\(\sigma\)}{sigma}-algebra generated by a set}
\begin{theorem}
    \(\mathcal{S} \subseteq \mathcal{P}(X)\). Then it is well-defined the smallest \(\sigalg\) containing \(\mathcal{S}\), the \(\sigalg\) generated by \(\mathcal{S} := \sigma_0(\mathcal{S})\):
    \begin{itemize}
        \item \(\mathcal{S} \subseteq \sigma_0(\mathcal{S})\) and thus is a \(\sigalg\)
        \item \(\forall \sigma(\mathcal{M})\) s.t. \(\mathcal{M} \supseteq \mathcal{S}\), we have \(\mathcal{M} \supseteq \sigma_0(\mathcal{S})\)
    \end{itemize}
\end{theorem}
\begin{proof}[Proof idea]
    \[
        \mathcal{V} = \left\lbrace \mathcal{M} \subseteq \mathcal{P}(X): \mathcal{M} \mbox{ is a } \sigalg \mbox{ and }\mathcal{S} \subseteq \mathcal{M}\right\rbrace \not = \emptyset \mbox{ since } \mathcal{P}(X) \in \mathcal{V}
    \]
    We define \(\sigma_0(\mathcal{S}) = \bigcap \left\lbrace \mathcal{M} \; : \; \mathcal{M} \in \mathcal{V}\right\rbrace\), so it can be proved that this is the desired \(\sigalg\)
\end{proof}
\subsection{Borel sets}
Given \((X, d)\) metric space, the \(\sigalg\) generated by the open sets is called \textbf{Borel} \(\sigalg\), written as \(\mathcal{B}(X)\). The sets in \(\mathcal{B}(X)\) are called \textbf{Borel sets}. The following sets are Borel sets:
\begin{itemize}
    \item open sets
    \item closed sets
    \item countable intersections of open sets: \(G_{\sigma}\) sets
    \item countable unions of closed sets: \(F_{\sigma}\) sets
\end{itemize}
\subsection{Generation of \texorpdfstring{\(\boreal\)}{B(R)}}
\begin{remark}
    \(\mathcal{B}(\mathbb{R})\) can be equivalently defined as the \(\sigalg\) generated by 
    \[
        \left\lbrace (a,b): \; a,b \in \real, a < b \right\rbrace
    \]
    \[
        \left\lbrace (-\infty,b): \; b \in \real \right\rbrace
    \]
    \[
        \left\lbrace (a,+\infty ): \; a \in \real \right\rbrace
    \]
    \[
        \left\lbrace [a,b): \; a,b \in \real, a < b \right\rbrace
    \]
    \[
        \vdots
    \]
\end{remark}
\noindent\underline{Question}: What is \(\boreal\)?
Is \(\boreal \not = \mathcal{P}(\mathbb{R})\)? No.
\subsection{Measure}
\begin{definition}
    \((X, \mathcal{M})\) measurable space. A function \(\mu : \; \mathcal{M} \to [0, +\infty]\) is called a \textbf{positive measure} if \(\mu(\emptyset) = 0\) and if \(\mu\) is countably additive, that is 
    \[
        \forall \left\lbrace E_n \right\rbrace \subseteq \mathcal{M} \quad \mbox{disjoint}
    \]
    we have that \[
        \mu\left(\bigcup_{n=1}^{\infty} E_n\right) = \sum_{n = 1}^{\infty} \mu(E_n) \tag*{\(\sigma\)-additivity}
    \]
\end{definition}
\begin{remark}
    A set \(A\) is countable if \(\exists \; f \; 1-1\) s.t. \(f: A\to \mathbb{N}\)

    Examples: \(\mathbb{Z}, \mathbb{Q}\) are countable, while \(\mathbb{R}\) is not, also \((0,1)\) is uncountable.
\end{remark}
We always assume that \(\exists \; E \not = \emptyset, E \in \mathcal{M}\) s.t. \(\mu(E) \not = \infty\). 
\subsection{Measure space}
If \((X,\mathcal{M})\) is a measurable space, and \(\mu\) is a measure on it, then \((X, \mathcal{M}, \mu)\) is a measure space.

Then:
\begin{enumerate}
    \item \(\mu\) is \textbf{finitely additive}: 
    \[
        \forall \; E,F \in \mathcal{M}, \mbox{ with } E \cap F \not = \emptyset \Rightarrow
    \mu(E \cup F) = \mu(E) + \mu(F)
    \]
    \item the \textbf{excision property}
    \[
        \forall \; E, F \in \mathcal{M}, \mbox{ with } E \subset F \mbox{ and } \mu(E) < +\infty \Rightarrow \mu(F\setminus E) = \mu(F) - \mu(E)
    \]
    \item \textbf{monotonicity}
    \[
        \forall \; E, F \in \mathcal{M}, \mbox{ with } E \subset F \Rightarrow \mu(E) \leq \mu(F)
    \]
    \item if \(\Omega \in \mathcal{M}\) then \((\Omega, \mathcal{M}\vert_{\Omega}, \mu\vert_{\mathcal{M}\vert_{\Omega}})\) is a measure space
\end{enumerate}
\begin{proof}
     \begin{enumerate}
        \item \(E_1 = E, E_2 = F, E_3 = \ldots = E_n = \ldots = \emptyset\) 
        This is a disjoint sequence \(\Rightarrow\) by \(\sigma\)-additivity. 
        \[
            \mu(E \cup F) = \mu\left(\bigcup_{n} E_n\right) = \sum_n \mu(E_n) = \mu(E) + \mu(F) + \underbrace{\mu(E_k)}_{= \mu(\emptyset)}
        \] 
        \item \(E \subset F\), so \(F = E \cup (F \setminus E)\) and this is disjoint \(\overset{(i)}{\Rightarrow} \mu(F) = \mu(E) + \mu(F\setminus E)\), and since \(\mu(E) < \infty\), the property follows.
        \item \(E \subset F \Rightarrow \mu(F) = \mu(E) + \underbrace{\mu(F\setminus E)}_{\geq 0} \geq \mu(E)\)
        \item 
     \end{enumerate}
    \end{proof}
\subsection{Basic properties of a measure}
\begin{definition}
    \((X, \mathcal{M}, \mu)\) measure space. 
    \begin{itemize}
    \item If \(\mu(X) < +\infty\), we say that \(\mu\) is \textbf{finite}.

    \item If \(\mu (X) = +\infty\), and \(\exists \; \left\lbrace E_n \right\rbrace \subset \mathcal{M}\) s.t. \(X = \bigcup_n E_n\) and each \(E_n\) has finite measure, then we say that \(\mu\) is \(\sigma\)-finite. 

    \item If \(\mu(X) = 1\) we say that \(\mu\) is a \textbf{probability measure}.
    \end{itemize}
\end{definition}
    \begin{example}
        \begin{itemize}
            \item Trivial Measure: \((X, \mathcal{M})\) measurable space. \(\mu : \mathcal{M} \to [0, \infty]\) defined by \(\mu(E) = 0 \quad \forall \; E \in \mathcal{M}\) 
            \item Counting Measure: \((X, \mathcal{P}(X))\) measurable space. We define 
            \[
                \mu_C :  \mathcal{P}(X) \to [0, \infty], \quad \mu_C (E) = \begin{cases}
                    n & \mbox{if } E \mbox{ has } n \mbox{ elements} \\
                    \infty &  \mbox{if } E \mbox{ has } \infty \mbox{-many elements} 
                \end{cases}
            \]
            \item Dirac Measure: \((X, \mathcal{P}(X))\) measurable space, \(t \in X\). We define 
            \[
                \delta_t  :  \mathcal{P}(X) \to [0, +\infty], \quad \delta_t(E) = \begin{cases}
                    1 & \mbox{if } t \in E\\
                    0 & \mbox{otherwise}
                \end{cases}
            \]
        \end{itemize}
    \end{example}
\subsection{Continuity of the measure along monotone sequences}
\((X, \mathcal{M}, \mu)\) measure space
\begin{enumerate}
    \item \(\left\lbrace E_i \right\rbrace \subset \mathcal{M}, \; E_i \subseteq E_{i+1} \; \forall i\) and let \[
        E = \bigcup_{i = 1}^{\infty} E_i = \lim_i E_i
    \]
    Then:
    \[
        \mu(E) = \lim_i \mu(E_i)
    \]
    \item \(\left\lbrace E_i \right\rbrace \subset \mathcal{M}, \; E_{i+1} \subseteq E_{i} \; \forall i\) and let \(E = \bigcap_{i = 1}^{\infty} E_i = \lim_i E_i\).
\end{enumerate}
\begin{proof}
    \begin{enumerate}
        \item If \(\exists \; i\) s.t. \(\mu(E_i) = +\infty\), then is trivial. Assume then that every \(E_i\) has a finite measure, so that \(E = \bigcup_{i=1}^{\infty} E_i = \bigcup_{i=0}^{\infty}(E_{i+1}\setminus E_i)\) with \(E_0 = \emptyset\).
        
        So, by \(\sigma\)-additivity \[\mu(E) = \mu\left(\bigcup_{i=0}^{\infty}(E_{i+1}\setminus E_i)\right) = \]
        \[
            = \sum_{i = 0}^{\infty} \mu(E_{i + 1} \setminus E_i) \overset{(excision)}{=} \sum_{i=0}^{\infty}\left(\mu(E_{i+1} - \mu(E_i))\right) = 
        \]
        \[
            \overset{(telescopic \; series)}{=} \lim_n \mu(E_n) - \underbrace{\mu(E_0)}_{= 0} = \lim_n \mu(E_n)
        \]
        \item For simplicity, suppose \(\tau = 1\), and define \(F_k = E_i\setminus E_k\) 
        \[
            \left\lbrace E_k \right\rbrace \searrow \Rightarrow \left\lbrace F_k \right\rbrace \nearrow
        \]
        \[
            \mu(E_i) = \mu(E_k) + \mu(F_k) \mbox{ and } \bigcup_k F_k = E_i \setminus (\bigcap_k E_k)
        \]
        \[
            \mu(E_i) = \mu(\bigcup_k F_k) + \underbrace{\mu(\bigcap_k E_k)}_{\mu(E)} =
        \]
        \[
            \overset{(i)}{=} \lim_k \mu(F_k) + \mu(E) = \lim_k \left(\mu(E_i) - \mu(E_k)\right) + \mu(E)
        \]
        Since \(\mu(E_i) < \infty\) we can subtract it from both sides
        \[
            0 = -\lim_k \mu(E_k) + \mu(E)
        \]
    \end{enumerate}
\end{proof}
\begin{example}[Counterexample]
    Given \((\mathbb{N}, \mathcal{P}(\mathbb{N}), \mu_C)\) measure space. Let \(E_n = \left\lbrace n, n+1, n+2, \ldots\right\rbrace\). In this case \(\mu_C (E_n) = +\infty, E_{n+1} \subseteq E_n \forall \; n\), but \(\bigcap_n E_n = \emptyset \Rightarrow \mu\left(\bigcap_n E_n\right) = 0 \)
\end{example}
\subsection{\texorpdfstring{\(\sigma\)}{sigma}-subadditivity of the measure}
\begin{theorem}[\(\sigma\)-subadditivity of the measure]
\((X, \mathcal{M}, \mu)\) is a measure space. \(\forall \left\lbrace E_n \right\rbrace \subseteq \mathcal{M}\) (not necessarily disjoint): \(\mu\left(\bigcup_n E_n\right) \leq \sum_n \mu(E_n)\)
\end{theorem}
\begin{proof}
    \(E_1, E_2 \in \mathcal{M}\) and also \(E_1 \cup E_2 = E_1 \cup (E_2 \setminus E_1)\) disjoint sets.
    \[
        \mu(E_1 \cup E_2) = \mu(E_1) + \mu(\underbrace{E_2 \setminus E_1}_{\subseteq E_2}) \overset{(monotonicity)}{\leq} \mu(E_1) + \mu(E_2)
    \]
    that means that we have the subadditivity for finitely many sets.

    \noindent Given \(
        A = \bigcup_{n=1}^{\infty} E_n, A_k = \bigcup_{n = 1}^{k} E_n,
        \left\lbrace A_k \right\rbrace \nearrow, \; A_{k+1} \supseteq A_k, \; \lim_k A_k = A:
    \)
    \[
        \mu\left(\bigcup_{n = 1}^{\infty} E_n\right) \overset{(continuity)}{=} \lim_k \mu(A_k) = \lim_k \mu \left(\bigcup_{n=1}^{k} E_n\right) \leq \lim_k \sum_{n=1}^k \mu(E_n) = \sum_{n = 1}^{\infty} \mu(E_n)
\]
\end{proof}
Exercise: \((X, \mathcal{M})\) measurable space. \(\mu : \mathcal{M} \to [0, +\infty]\) s.t. \(\mu\) is finitely additive, \(\sigma\)-subadditive and \(\mu(\emptyset) = 0\) \(\Rightarrow\) \(\mu\) is \(\sigma\)-additive, and hence is a measure.  
\subsection{Borel-Cantelli Lemma}
The Borel-Cantelli lemma states that, given \((X, \mathcal{M}, \mu)\) and \(\left\lbrace E_n \right\rbrace \subseteq \mathcal{M}\). Then
\[
    \sum_{n=0}^{\infty} \mu(E_n) < \infty \Rightarrow \mu(\limsup_n E_n) = 0
\]
It can be phrased as: \begin{quote}
    If the series of the probability of the events \(E_n\) is convergent, then the probability that \(\infty\)-many events occur is \(0\)
\end{quote}
\begin{proof}
    The thesis is: \[\mu(\limsup_n E_n) = \mu\biggl(\bigcap_{n=1}^{\infty} \underbrace{\bigcup_{k \geq n} E_k}_{A_n := \bigcup_{k\geq n}E_k}\biggr)\]
    Is it true that \(\left\lbrace A_n \right\rbrace \searrow\)? Yes.
    \[
         A_{n+1} = \bigcup_{k \geq n+1}  E_k \subseteq \bigcup_{k \geq n} E_k = A_n
    \]
    Does some \(A_n\) have a finite measure? 
    \[
        \mu(A_n) = \mu\left(\bigcup_{k \geq n} E_k\right) \leq \sum_{k \geq n} \mu(E_k) < \infty
    \]
    by assumption. Therefore, we can use the continuity along decreasing sequences: 
    \[
        \mu(\limsup_n E_n) = \lim_n \mu(A_n) = \lim_n \mu \left(\bigcup_{k \geq n} E_k\right) \overset{\sigma-sub.}{\leq} \lim_n \sum_{k=n}^{\infty} \mu(E_k) = 0
    \]
\end{proof}
\subsection{Sets of 0 measure, negligible sets}
\((X, \mathcal{M}, \mu)\) measure space.
\begin{itemize}
    \item \(N \subseteq X\) is a set of \(0\) measure if \(N \in \mathcal{M}\) and \(\mu(N) = 0\)
    \item \(E \subseteq X\) is called \textbf{negligible set} if \(\exists \; N \in \mathcal{M}\) with \(0\) measure s.t. \(E \subseteq N\) (\(E\) does not necessarily stay in \(\mathcal{M}\))
\end{itemize} 
\subsection{Complete measure space}
\begin{definition}
    \((X, \mathcal{M}, \mu)\) measure space s.t. every negligible set is measurable (and hence of \(0\) measure), then \(\measurespace\) is said to be a \textbf{complete measure space}.

    A measure space may not be complete. However, let 
    \[
        \overline{\mathcal{M}} := \left\lbrace E \subseteq X : \exists\; F, G \in \mathcal{M} \mbox{ with } F\subseteq E \subseteq G \mbox{ and } \mu(G\setminus F) = 0\right\rbrace
    \]
    Clearly \(\mathcal{M} \subseteq \overline{\mathcal{M}}\). For \(E \in \overline{\mathcal{M}}\), take \(F\) and \(G\) as above and let \(\bar{\mu}(E) = \bar{\mu}(F)\) then \(\bar{\mu}\vert_{\mathcal{M}} = \mu\), and moreover:
\end{definition}
\begin{theorem}
    \(\measurespace\) is a complete measure space. Let's observe that \(\bar{\mu}\) is well-defined: let \(E \subseteq X\) and \(F_1,F_2, G_1, G_2\) s.t. \(F_i \subset E \subset G_i \quad i = 1,2\). Then \(\mu(G_i\setminus F_i) = 0\). Now we have to check that \(\mu(F_1) = \mu(F_2)\). 

    Since \[
        F_1 \setminus F_2 \subseteq E\setminus F_2 \subseteq G_2 \setminus F_2
    \] 
    and \(G_2 \setminus F_2\) has \(0\) measure \(\Rightarrow \mu(F_1 \setminus F_2) = 0\). Then \(F_1 = (F_1 \setminus F_2) \cup (F_1 \cap F_2) \Rightarrow \mu(F_1) = \mu(F_1 \cap F_2).\) In the same way, \(\mu(F_2) = \mu(F_1 \cap F_2)\)
\end{theorem}
The elements of \(\overline{\mathcal{M}}\) are sets of the type \(E \cup N\), with \(E \in \mathcal{M}\) and \(\bar{\mu}(N) = 0\).
\subsection{Outer measure}
We wish to define a measure \(\lambda\) ``on \(\real\)'' with the following properties:
\begin{enumerate}
    \item \(\lambda((a,b)) = b-a\)
    \item \(\lambda(E + t)\symbolfootnotemark[2]{\(\left\lbrace x \in \mathbb{R} : x=y+t, \mbox{ with } y \in E\right\rbrace\)}  \; = \lambda(E)\) for every measurable set \(E \subset \mathbb{R}\) and \(t \in \mathbb{R}\)
\end{enumerate}
It would be nice to define such a measure on \(\mathcal{P}(\mathbb{R})\). In such case, note that \(\lambda(\left\lbrace x \right\rbrace) = 0\), \(\forall \; x \in \mathbb{R}\)
But then 
\begin{theorem}[Ulam]
    The only measure on \(\mathcal{P}(\mathbb{R})\) s.t. \(\lambda(\left\lbrace x \right\rbrace) = 0 \quad \forall \; x\) is the trivial measure. Thus, a measure satisfying the two properties of the outer measure cannot be defined on \(\mathcal{P}(\real)\)
\end{theorem}

We'll learn in what follows how to create a measure space on \(\real\), with a \(\sigalg\) including all the Borel sets, and a measure satisfying properties of the outer measure. This is the so-called \textbf{Lebesgue measure}.
\begin{definition}
    Given a set \(X\). An \textbf{outer measure} is a function \(\mu^* : \mathcal{P}(X) \to [0, +\infty]\) s.t. 
    \begin{itemize}
        \item \(\mu^*(\emptyset) = 0\)
        \item \(\mu^*(A) \leq \mu^*(B)\) if \(A \subseteq B\) (Monotonicity)
        \item \(\mu^*(\bigcup_{n=1}^{\infty} E_n) \leq \sum_{n=1}^{\infty} \mu^*(E_n)\) (\(\sigma\)-subadditivity)
    \end{itemize}
\end{definition}
\subsection{Generation of an outer measure}
The common way to define an outer measure is to start with a family of elementary sets \(\mathcal{E}\) on which a notion of measure is defined (e.g. intervals on \(\real\), rectangles on \(\real^2, \ldots\)) and then to approximate arbitrary sets from outside by \textbf{countable} unions of members of \(\mathcal{E}\).
\begin{proposition}
    Let \(\mathcal{E} \subset \mathcal{P}(\mathbb{R})\) and \(\rho : \mathcal{E} \to [0, +\infty]\) be such that \(\emptyset \in \mathcal{E}, X \in \mathcal{E}\) and \(\rho(\emptyset) = 0\). For any \(A \in \mathcal{P}(X)\), let 
    \[\mu^*(A) := \inf \left\lbrace \sum_{n=1}^{\infty} \rho (E_n) : E_n \in \mathcal{E} \mbox{ and } A \subset \bigcup_{n=1}^{\infty} E_n \right\rbrace\]
    Then \(\mu^*\) is an outer measure, the outer measure generated by \((\mathcal{E}, \rho)\).
\end{proposition}
\begin{proof}
    \(\forall \; A \subset X \; \exists \left\lbrace E_n \right\rbrace \subset \mathcal{E}\) s.t. \(A \subset \bigcup_n E_n : \mbox{ take } E_n = X \; \forall \; n,\)
    then \(\mu^*\) is well-defined. Obviously, \(\mu^*(\emptyset) = 0\) (with \(E_n = \emptyset \quad \forall\; n\)), and \(\mu^*(A) \leq \mu^*(B)\) for \(A \subset B\) (any covering of \(B\) with elements of \(\mathcal{E}\) is also a covering of \(A\).)

    We have to prove the \(\sigma\)-subadditivity. 
    
    \noindent Let \(\left\lbrace A_n \right\rbrace_{n \in \mathbb{N}} \subseteq \mathcal{P}(X)\) and \(\epsilon > 0\). For each \(n, \, \exists \left\lbrace E_{n_j} \right\rbrace_{j \in \mathbb{N}} \in \mathcal{E}\) s.t. \(A_n \subset \bigcup_{i = 1}^{\infty} E_{n_j}\) and \(\sum_{j=1}^{\infty} \rho(E_{n_j}) \leq \mu^*(A_n) + \frac{\epsilon}{2^n}\).  
    But then, if \(A = \bigcup_{n=1}^{\infty} A_n\), we have that \(A \subset \bigcup_{n,j \in \mathbb{N}^2} E_{n_j}\) and
    \[
        \mu^*(A) \leq \sum_{n,j} \rho(E_{n_j}) \leq \sum_{n} \left(\mu^*(A_n) + \frac{\epsilon}{2^n}\right) = \sum_{n} \mu^*(A_n) + \epsilon
    \]
    Since \(\epsilon\) is arbitrary, we are done.
\end{proof}
\begin{example}
    \begin{enumerate}
        \item \(X \in \mathbb{R}, \mathcal{E} = \left\lbrace (a,b) : a \leq b, a,b \in \mathbb{R} \right\rbrace \mbox{ family of open intervals:} \)
        \[
            \rho((a,b)) = b-a
        \]
        
        \item \(X = \mathbb{R}^n, \mathcal{E} = \left\lbrace (a_1, b_1) \times \ldots \times (a_n, b_n) : a_i \leq b_i, a_i, b_i \in \mathbb{R} \right\rbrace\): 
        \[
            \rho((a_1, b_1)\times \ldots \times (a_n, b_n)) = (b_1 -a_1) \cdot \ldots \cdot (b_n - a_n)
        \]
    \end{enumerate}
\end{example}
\begin{remark}
    \(E \in \mathcal{E} \Rightarrow \mu^*(E) = \rho(E)\).  

    In examples 1 and 2, we have in fact 
    \[
        \mu^*((a,b)) = b-a, \mu^*\left((a_1, b_1) \times \ldots \times (a_n, b_n)\right) = \prod_{i=1}^{n} (b_i - a_i)
    \] 
\end{remark}
\subsection{Caratheodory condition}
To pass from the outer measure to a measure there is a condition: 
\begin{definition}[Caratheodory condition]
    If \(\mu^*\) is an outer measure on \(X\), a set \(A \subset X\) is called \(\mu^*\)-\textbf{measurable} if 
    \[
        \mu^*(E) = \mu^*(E \cap A) + \mu^*(E \cap A^C) \quad \forall \; E \subset X
    \]
\end{definition}
\begin{remark}
    If \(E\) is a ``nice'' set containing \(A\), then the above equality says that the outer measure of \(A\), \(\mu^*(E \cap A)\), is equal to \(\mu^*(E) - \mu^*(E \cap A^C)\), which can be thought as an ``inner measure''. So basically we are saying that \(A\) is measurable if the outer and inner measure coincide. (Like the definition of Riemann integration with lower and upper sum)
\end{remark}
\begin{remark}
    \(\mu^*\) is subadditive by def \(\Rightarrow \mu^*(E) \leq \mu^*(E \cap A) + \mu^*(E \cap A^C) \quad \forall \; E, A \subset X\).  
    So, to prove that a set is \(\mu^*\)-measurable it is enough to prove the reverse inequality, \(\forall \; E \subset X\). In fact, if \(\mu^*(E) = +\infty\), then \(+\infty \geq \mu^*(E \cap A) + \mu^*(E \cap A^C)\), and hence \(A\) is \(\mu^*\)-measurable iff 
    \[
        \mu^*(E) \geq \mu(E \cap A) + \mu^*(E \cap A^C) \quad \forall \; E \subset X \mbox{ with } \mu^*(E) < +\infty
    \] 
\end{remark}
\subsection{Measure induced by an outer measure}
Their relevance to the notion of \(\mu^*\)-measurability is clarified by the following
\begin{theorem}[Caratheodory]
    If \(\mu^*\) is an outer measure on \(X\), the family
    \[
        \mathcal{M} = \left\lbrace A \subseteq X : A \mbox{ is }\mu^*\mbox{-measurable}\right\rbrace
    \]
    is a \(\sigalg\) and \(\mu^*\vert_{\mathcal{M}}\) is a complete measure.
\end{theorem}
\begin{lemma}
    If \(A \subset X\) and \(\mu^*(A) = 0\), then \(A\) is \(\mu^*\)-measurable.
\end{lemma}
\begin{proof}
    Let \(E \subset X\) with \(\mu^*(E) < +\infty\). Then 
    \[
        \mu^*(E) \geq \mu^*(E) + \mu^*(A) \overset{\symbolfootnotemark[3]{\(E \cap A^C \subseteq E\) and \(E\cap A \subseteq A\) + monotonicity}}{\geq}  \mu^*(E \cap A) + \mu^*(E \cap A^C)
    \]
    \symbolfootnotetext[3]{\(E \cap A^C \subseteq E\) and \(E\cap A \subseteq A\) + monotonicity}
    This implies that A is \(\mu^*\)-measurable.
\end{proof}
To sum up: \(X \mbox{ set}, (\mathcal{E}, \rho)\) elementary and measurable sets, so \(\mu^*\) is an outer measure. Then given \(\mu^*\) and the Caratheodory condition, we have \((X, \mathcal{M}, \mu)\) that is a complete measure space.
\begin{remark}
    So far we did not prove that \(\mathcal{E} \subseteq \mathcal{M}\). We will do it in a particular case.
\end{remark}
\subsection{Lebesgue's measure on \texorpdfstring{\(\real^n\)}{Rn}}
\begin{itemize}
\item \(X = \mathbb{R}\), \(\mathcal{E}\) family of open intervals, \(\rho((a,b)) = b-a = \lambda((a,b))\), the complete measure space is \((\mathbb{R}, \mathcal{L}(\mathbb{R}), \lambda)\) with \(\mathcal{L}(\mathbb{R})\) the Lebesgue-measurable sets on \(\mathbb{R}\) and \(\lambda\) the Lebesgue measure on \(\mathbb{R}\).
\item \(X = \mathbb{R}^n\), \(\mathcal{E} = \left\lbrace \prod_{k = 1}^n (a_k, b_k): a_k \leq b_k \quad \forall \; k = 1,\ldots, n \right\rbrace\), \(\rho\left(\prod_{k = 1}^n (a_k, b_k)\right) = \prod_{k=1}^n (b_k - a_k)\) and this is a complete measure space \((\mathbb{R}^n, \mathcal{L}(\mathbb{R}^n), \lambda_n)\)
\end{itemize}
\begin{notation}
    \(\mathcal{E}\) = family of open intervals (a, b), \(a,b \in \mathbb{R}^*, a < b\). \(\rho =\) length \(l\).
    \(\rho((a,b)) = b - a\). 

    Open interval \(I\) with length \(l(I)\)
    \(E \subset \real\). The outer measure of \(E\) is 
    \[
        \lambda^*(E) = \inf \left\lbrace \sum_{n=1}^{+\infty} l(I_n) \vert I_n \mbox{ is an open interval, } E \subset \bigcup_{n = 1}^{\infty} I_n \right\rbrace
    \]
    \(A \subset \real\) is \(\lambda^*\)-measurable if 
    \[
        \lambda^*(E) = \lambda^*(E \cap A) + \lambda^*(E \cap A^C) \qquad \forall \; E \subset \real
    \]
    \[
        \left\lbrace A \subset \real : A \mbox{ is }\lambda^*\mbox{-measurable} \right\rbrace =: \mathcal{L}(\real)
    \tag*{(Lebesgue \(\sigalg\))}\]
    \[
        \lambda := \lambda^* \vert_{\mathcal{L}(\real)}
    \tag*{(Lebesgue measure on \(\real\))}\]
    Then, \((\real, \mathcal{L}(\real), \lambda)\) is a complete measure space. In particular, \(\lambda^*(A) = 0 \Rightarrow A \in \mathcal{L}(\real)\) and \(\lambda(A) = 0\).
\end{notation}
\begin{remark}[CC-Criterion for measurability]
    To check that \(A\) is \(\lambda^*\)-measurable, it is sufficient to check that 
    \[
        \lambda^* \geq \lambda^*(E \cap A) + \lambda^*(E \cap A^C)
    \] for every \(E \subset \real\) with \(\lambda^*(E) < +\infty\)
\end{remark}
\subsection{Every countable set is Lebesgue-measurable}
\begin{proposition}
    Any countable set is measurable, with \(0\) Lebesgue measure.
\end{proposition}
\begin{proof}
    Let \(a \in \real\), \[\left\lbrace a \right\rbrace \subseteq (a-\epsilon, a+\epsilon), \forall \; \epsilon > 0 \overset{\mbox{by def.}}{\Rightarrow} \lambda^*(\left\lbrace a \right\rbrace) \leq 2\epsilon \overset{\mbox{lim}}{\Rightarrow} \lambda^*(\left\lbrace a \right\rbrace) = 0\]
    \(\left\lbrace a \right\rbrace\) is measurable with \(\lambda(\left\lbrace a \right\rbrace) = 0, \forall \; a \in \real\). Now if a set \(A\) is countable, \(A = \left\lbrace a_n \right\rbrace_{n \in \mathbb{N}} = \bigcup_n \left\lbrace a_n \right\rbrace\) (disjoint) \(\Rightarrow \lambda(A) \underset{\sigma-add}{=} \sum_n \lambda(\left\lbrace a_n \right\rbrace) = 0\)
\end{proof}
\begin{remark}
    \(\lambda(\mathbb{Q} = 0)\). \(\mathbb{Q}\) is dense on \(\real\), \(\bar{\mathbb{Q}} = \real\). In general, measure theoretical info and topological info cannot be compared.
\end{remark}
\subsection{Relation between \texorpdfstring{\(\boreal\)}{B(R)} and \texorpdfstring{\(\mathcal{L}(\real)\)}{L(R)}}
\begin{proposition}
    \(\boreal \subseteq \mathcal{L}(\real)\)
\end{proposition}
\begin{remark}
    So far we didn't prove the fact that open intervals are \(\mathcal{L}\)-measurable.
\end{remark}
\begin{proof}
    We know that \(\boreal\) is generated by \(\left\lbrace (a, +\infty) : a \in \real \right\rbrace\). Then, we can directly show that \((a, +\infty) \in \mathcal{L}(\real) \quad \forall \; a \in \real\). Let \(a \in \real\) be fixed. We use the criterion for measurability, and we check that 
    \[
        \lambda^* (E) \geq \lambda^*\underbrace{(E \cap (a, +\infty)}_{=: E_1} + \lambda^*\underbrace{(E \cap (-\infty, a])}_{=:E_2} \quad \forall\; E \subset \real, \, \lambda^* < +\infty
    \]
    Since \(\lambda^*(E) < +\infty\), \(\exists\) a countable union \(\bigcup_n I_n \supset E\), where \(I_n\) is an open interval \(\forall \; n\) and 
    \[
        \sum_n l(I_n) \leq \lambda^*(E) + \epsilon
    \]
    Let \(I^1_n := I_n \cap E_1, I^2_n := I_n \cap (-\infty, a + \frac{\epsilon}{2^n})\). These are open intervals:
    \[
        E_1 \subset \bigcup_n I^1_n \qquad E_2 \subset \bigcup_n I^2_n
    \tag*{countable unions}\]
    and moreover 
    \[
        l(I_n) \geq l(I^1_n) + l(I^2_n) - \frac{\epsilon}{2^n}
    \]
    By definition of \(\lambda^*\), \(\lambda^*(E_1) \leq \sum_n l(I^1_n)\) and \(\lambda^* (E_2) \leq \sum_n l(I^2_n)\), therefore 
    \[
        \lambda^*(E_1) + \lambda^*(E_2) \leq \sum_n l(I^1_n) + \sum_n l(I^2_n) \leq \sum_n \left(l(I_n) +\frac{\epsilon}{2^n}\right) = \left(\sum_n l(I_n)\right) + 2\epsilon \leq \lambda^*(E) + 3\epsilon
    \]
    Since \(\epsilon\) was arbitrarily chosen, we have
    \[
        \lambda^*(E) \geq \lambda^*(E_1) + \lambda^*(E_2)
    \]  
    which is the thesis.
\end{proof}
So, the Lebesgue measure measures all the open, closed \(G_{\delta}\), \(F_{\delta}\) sets. Clearly
\[
    \lambda((a,b)) = b-a
\]
One can also show that \(\lambda\) is invariant under translation. 

\noindent\underline{Questions:} \(\boreal \subseteq \mathcal{L}(\mathbb{R}) \subseteq \mathcal{P}(\real)\), is it a strict inclusion or not?
\begin{itemize}
    \item By Ulam's theorem, if a measure is such that \(\lambda \left(\left\{ a \right\}\right) = 0, \forall \; a\) and all the sets in \(\mathcal{P}(\real)\) are measurable, then \(\lambda \equiv 0\). This and the fact that \(\lambda\left(\left(a,b\right)\right) \not = 0\) simply that \(\mathcal{L}(\real) \subsetneqq\symbolfootnotemark[3]{I had no choice} \mathcal{P}(\real) : \exists \mbox{ non-measurable sets}\) called Vitali sets. Every measurable set with positive measure contains a Vitali set. (\href{https://math.stackexchange.com/questions/137949/the-construction-of-a-vitali-set}{Explanation})
    \item \(\boreal \subsetneqq \mathcal{L}(\real)\). The construction of an \(\mathcal{L}\)-measurable set which is not a Borel set will be done during exercise classes.
\end{itemize}
The relation between \(\boreal\) and \(\mathcal{L}(\real)\) is clarified by 
\subsection{Regularity of Lebesgue measure}
\begin{theorem}[Regularity of \(\lambda\)]
    The following sentences are equivalent:
    \begin{enumerate}
        \item \(E \in \mathcal{L}(\real)\)
        \item \(\forall \; \epsilon > 0 \; \exists \; A \supset E\), \(A \mbox{ open}\) s.t.
        \[
            \lambda \left(A \setminus E\right) < \epsilon
        \]
        \item \(\exists \; G \supset E\), \(G \mbox{ of class } G_{\delta}\), s.t. 
        \[
            \lambda(G\setminus E) = 0
        \]
        \item \(\exists \; C \subset E\), \(C \mbox{ closed}\), s.t. 
        \[
            \lambda(E\setminus C) = 0
        \]
        \item \(\exists \; F \subset E\), \(F \mbox{ of class } F_{\delta}\), s.t. 
        \[
            \lambda(E\setminus F) = 0
        \]
    \end{enumerate}
\end{theorem}
\noindent\underline{\textbf{Consequence:}} \(E \in \mathcal{L}(\real) \Rightarrow E = F \cup N\), where \(F\) is of class \(F_{\delta}\), and \(\lambda(N) = 0\).
\begin{proof}[Partial proof]
    For simplicity, we will consider only sets with finite measure.
    \begin{itemize}
        \item[(1)]\( \Rightarrow (2)\) \(E \in \mathcal{L}(\real)\). By definition of \(\lambda^*\), \(\forall \; \epsilon > 0 \; \exists \; \bigcup_n I_n \supset E\) s.t. each \(I_n\) is an open interval, and 
        \[
            \lambda(E) = \lambda^*(E) \geq \sum_n l(I_n) -\epsilon
        \]
        We define \(A = \bigcup_n I_n\), which is open. Also, \(A \supset E\) and 
        \[
            \lambda(A)= \lambda\left(\bigcup_n I_n\right) \overset{\sigma-\mbox{sub.}}{\leq} \sum_n l(I_n) \leq \lambda(E) + \epsilon
        \]
        Then, by excision
        \[
            \lambda(A \setminus E) = \lambda(A) - \lambda(E) \leq \epsilon
        \]
        \item[(2)]\( \Rightarrow (3)\) Define, for every \(K \in \mathbb{N}\), an open set \(A_k\) s.t. \(A_k \supset E\) and \(\lambda(A_k \setminus E) < \frac{1}{k}\). Let \(A = \bigcap_k A_k\). This is a \(G_{\delta}\) set, it contains \(E\) (since each \(A_k\) contains \(E\)) and 
        \[
            \lambda(A \setminus E) \underset{(A \subset A_k \; \forall \; k)}{\leq} \lambda(A_k \setminus E) < \frac{1}{k} \Rightarrow \lambda(A \setminus E) = 0 \quad \forall \; k
        \]
        \item[(3)]\( \Rightarrow (1)\) If \(E \subset \real\) and \(\exists\; G \supset E\), with \(G\) of class \(G_{\delta},\) s.t. \(\lambda(G \setminus E) = 0\), then
        \[
            E = G \setminus(G \setminus E) \mbox{ is measurable}
        \]
        since \(G\) is a Borel set and \((G \setminus E)\) has \(0\) measure, then both are in \(\mathcal{L}\)
    \end{itemize}
\end{proof}
\begin{remark}
    Any countable set has \(0\) measure. The inverse is false. An example is given by the \textbf{Cantor set}.
    
    Let \(T_0 = [0,1]\). Then we define \(T_{n+1}\) stating from \(T_n\) in the following way:
    given \(T_n\), finite union of closed disjoint intervals of length \(l_n (\frac{1}{3})^n\), \(T_{n+1}\) is obtained by removing from each interval of \(T_n\), the open central subinterval of length \(\frac{l_n}{3}\).

    The Cantor set is \(T := \bigcap_{k=0}^{+\infty}\). It can be proved that \(T\) is compact, \(\lambda(T) = 0\) and \(T\) is uncountable.

    If, instead of removing intervals of size \(\frac{1}{3}, \frac{1}{9}, \ldots, \frac{1}{3^k}\), we remove sets of size \(\left(\frac{\epsilon}{3}\right)^k\), with \(\epsilon \in (0,1)\), we obtain the \textbf{generalized Cantor set} (or \textbf{fat Cantor set}) \(T_{\epsilon}\). \(T_{\epsilon}\) is uncountable, compact and has no interior points (it contains no intervals). However, \(\lambda(T_{\epsilon}) = \frac{3(1 -\epsilon)}{3 - 2\epsilon} > 0\)
\end{remark}
\begin{remark}
    We worked on \(\real\), but everything can be adapted to \(\real^n\)
\end{remark}
